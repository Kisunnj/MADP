@using Microsoft.AspNetCore.Identity
@using WEB_253551_Levchuk.Entities
@inject UserManager<ApplicationUser> UserManager

@{
    var currentUser = await UserManager.GetUserAsync(User);
    var userEmail = currentUser?.Email ?? User.Identity?.Name ?? "user@mail.com";
}

<div class="dropdown ml-4 nav-color">
    <div class=" dropdown-toggle" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
        <img src="~/images/avatar.png" width="30"
             alt="User" style="margin-left: 30px;" />
    </div>
    <div class="dropdown-menu"
         aria-labelledby="dropdownMenuButton">
        <div class="dropdown-item-text" style="text-align:center;">
            <img src="~/images/avatar.png" width="50"
                 alt="User" />
            <span>@userEmail</span>
        </div>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" asp-controller="Product" asp-action="UserProducts">
            <i class="fas fa-box"></i> Мои товары
        </a>
        <a class="dropdown-item" asp-area="Identity" asp-page="/Account/Logout">
            <i class="fas fa-sign-out-alt"></i> Выйти
        </a>
    </div>
</div>
